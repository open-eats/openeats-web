sudo: required

language: node_js

node_js:
  - "8.9.4"

services:
  - docker

before_install:
- docker-compose -f test.yml -p test build

script:
- docker-compose -f test.yml -p test run --rm
  --entrypoint 'npm test'
  -e TRAVIS_JOB_ID=$TRAVIS_JOB_ID
  -e TRAVIS_BRANCH=$TRAVIS_BRANCH
  -e TRAVIS=$TRAVIS
  -e CC_TEST_REPORTER_ID=83e4d4d7cf7daaa7f29a6b65212d55d96c91f301d8154820052cc5c33b3f9dc7
  web
